# airtest  
## 使用步驟  
<img src="data:image/png;base64,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"></img>  
!python3.7(python3.8以上版本不適用）  
1.下載Airtest IDE  
2.python -m pip install airtest  
3.python -m pip install pocoui   
4.check adb version   (//airtest/core/android/windows/adb/adb.exe --version  >   //nox/bin/adb.exe&nox_adb.exe).   
5.確認手機或模擬器開啟ROOT&手機調適設定  
6.開始使用Airtest  
- 若無法開啟  請手動安裝Yosmite(Path:airtest/core/apk)  
  
## 基本用法  
### 連接手機模擬器 port:62025(nox)  

- auto_setup(__file__, devices = ['Android://127.0.0.1:5037/127.0.0.1:62025?cap_method=JAVACAP^&^&ori_method=ADBORI'])  多設備連接  
- x.attr(‘desc’)取得特殊屬性值  
- x.click()  點擊  
- x.get_text()  獲得文本  
- swipe([0, 0], [1, 1]) 滑動螢幕(按比例 左上至右下)  
- x.exist()  確認元素是否存在  
- poco.wait_for_any([a,b,c]) 等待元素存在才繼續  
- poco.wait_for_all([a,b,c]) 等待所有元素存在才繼續  
  
  
## adb  
連接nox  
- adb -s 127.0.0.1:{port}  
  
查看adb狀態  
- adb devices  
  
斷開連結！！  
- adb kill-server  
    
重新連結  
- adb start-server  
  
進入shell  
- adb -s 127.0.0.1:{port} shell  
  
重啟adb  
- adb -s 127.0.0.1:{port} reboot  
  
### 喚醒媒體庫  

- adb shell "am broadcast -a android.intent.action.MEDIA_MOUNTED -d file:///sdcard  
- adb shell "am broadcast -a android.intent.action.MEDIA_SCANNER_SCAN_FILE -d file:///sdcard/DCIM/Camera/Video/{video}"  
  
### 強制停止youtube  
- am force-stop com.google.android.youtube
  
  
## 參考文件  
https://www.jianshu.com/p/203eb5f08761 adb 操作  
https://airtest.doc.io.netease.com/   airtest Documents  
https://github.com/AirtestProject/Poco  POCO源碼  
https://www.mdeditor.tw/pl/2iK6/zh-tw  基本介紹  
https://www.cnblogs.com/wutaotaosin/articles/11396827.html  基本操作  
https://www.codenong.com/cs105283799/  進階指令  
